/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
   id 'java-library'
}

sourceCompatibility = JavaVersion.VERSION_1_8   //these two lines
targetCompatibility = JavaVersion.VERSION_1_8   //are the only ones that matter

version = '1.1'

task fatJar(type: Jar) {
	manifest {
        attributes 'Implementation-Title': 'Optit JR Print',  
        	'Implementation-Version': version
    }
    baseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

task copyToLib(type: Copy) {
    into "$buildDir/output/lib"
    from configurations.compile
}

dependencies {
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    
    compile group: 'net.sf.jasperreports', name: 'jasperreports', version: '6.16.0'
 	compile 'nginx-clojure:nginx-clojure:0.5.2'
 	compile 'org.apache.xmlgraphics:batik-bridge:1.14'
 	compile 'net.sf.jasperreports:jasperreports-fonts:6.16.0'
}


// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    
    maven {
    	url 'http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts'
    }
    maven {
   		url 'http://clojars.org/repo'
    }
    jcenter()
}
