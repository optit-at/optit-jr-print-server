plugins {
   id 'java-library'
}

version = '1.2'

task fatJar(type: Jar) {
	manifest {
        attributes 'Implementation-Title': 'Optit JR Print', 'Implementation-Version': version
    }
    archiveBaseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

task copyToLib(type: Copy) {
    into "$buildDir/output/lib"
    from configurations.implementation
}

dependencies {    
    implementation 'net.sf.jasperreports:jasperreports:6.21.5'
 	implementation 'nginx-clojure:nginx-clojure:0.6.0'
 	implementation 'org.apache.xmlgraphics:batik-bridge:1.19'
 	implementation 'net.sf.jasperreports:jasperreports-fonts:6.21.5'
}

repositories {
	mavenCentral()
    maven {
   		url 'https://clojars.org/repo'
    }
}
